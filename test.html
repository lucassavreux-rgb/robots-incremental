<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEST - Forge Empire</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #0a0e27;
            color: #e0e6ed;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            background: #1e2439;
            border: 2px solid #2a3048;
            border-radius: 8px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            margin: 5px;
            cursor: pointer;
        }
        #log {
            background: #000;
            color: #0f0;
            padding: 10px;
            height: 300px;
            overflow-y: auto;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>ðŸ§ª Test Forge Empire</h1>

    <div class="test-section">
        <h2>Logs</h2>
        <div id="log"></div>
    </div>

    <div class="test-section">
        <h2>Test Bouton Clic</h2>
        <button id="test-click-btn">âš¡ CLIQUE ICI</button>
        <p>Ã‰nergie: <span id="test-energy">0</span></p>
    </div>

    <div class="test-section">
        <h2>Test Onglets</h2>
        <button class="test-tab-btn" data-tab="a">Onglet A</button>
        <button class="test-tab-btn" data-tab="b">Onglet B</button>
        <button class="test-tab-btn" data-tab="c">Onglet C</button>
        <div id="current-tab">Aucun onglet sÃ©lectionnÃ©</div>
    </div>

    <!-- Scripts -->
    <script src="js/numbers.js"></script>
    <script src="js/state.js"></script>
    <script src="js/generators.js"></script>
    <script src="js/upgrades.js"></script>
    <script src="js/prestige.js"></script>
    <script src="js/talents.js"></script>
    <script src="js/utils.js"></script>

    <script>
        const logEl = document.getElementById('log');
        function log(msg) {
            console.log(msg);
            logEl.innerHTML += msg + '\n';
            logEl.scrollTop = logEl.scrollHeight;
        }

        // Test de chargement des modules
        log('ðŸ”¥ DÃ©marrage des tests...');
        log('');
        log('ðŸ“¦ VÃ©rification des modules:');
        log('- ForgeNumbers: ' + (window.ForgeNumbers ? 'âœ…' : 'âŒ'));
        log('- ForgeState: ' + (window.ForgeState ? 'âœ…' : 'âŒ'));
        log('- ForgeGenerators: ' + (window.ForgeGenerators ? 'âœ…' : 'âŒ'));
        log('- ForgeUpgrades: ' + (window.ForgeUpgrades ? 'âœ…' : 'âŒ'));
        log('- ForgePrestige: ' + (window.ForgePrestige ? 'âœ…' : 'âŒ'));
        log('- ForgeTalents: ' + (window.ForgeTalents ? 'âœ…' : 'âŒ'));
        log('- ForgeUtils: ' + (window.ForgeUtils ? 'âœ…' : 'âŒ'));
        log('');

        // Test bouton clic
        const testClickBtn = document.getElementById('test-click-btn');
        const testEnergyEl = document.getElementById('test-energy');

        testClickBtn.addEventListener('click', () => {
            log('ðŸ‘† CLIC dÃ©tectÃ©!');
            try {
                window.ForgeGenerators.doClick();
                const state = window.ForgeState.getState();
                testEnergyEl.textContent = window.ForgeNumbers.formatNumber(state.energy);
                log('âœ… Ã‰nergie mise Ã  jour: ' + state.energy);
            } catch (e) {
                log('âŒ ERREUR: ' + e.message);
                console.error(e);
            }
        });
        log('âœ… Event listener sur bouton test installÃ©');
        log('');

        // Test onglets
        const testTabBtns = document.querySelectorAll('.test-tab-btn');
        const currentTabEl = document.getElementById('current-tab');

        testTabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const tab = btn.dataset.tab;
                log('ðŸ“‚ Changement vers onglet: ' + tab);
                currentTabEl.textContent = 'Onglet actif: ' + tab;

                testTabBtns.forEach(b => {
                    b.style.backgroundColor = b === btn ? '#00d4ff' : '';
                    b.style.color = b === btn ? 'white' : '';
                });
            });
        });
        log('âœ… Event listeners sur onglets installÃ©s');
        log('');
        log('ðŸŽ® Tests prÃªts! Clique sur les boutons pour tester.');
    </script>
</body>
</html>
